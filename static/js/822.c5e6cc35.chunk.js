"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[822],{4635:function(e,t,n){n.d(t,{Df:function(){return l},M1:function(){return d},WL:function(){return h},qF:function(){return x},tx:function(){return f}});var r=n(5861),a=n(7757),s=n.n(a),i=n(4569),c=n.n(i),o="https://api.themoviedb.org/3/",u="10da0ab85bfd05885200cf46ca6575c7";function l(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/popular?api_key=").concat(u,"&language=en-US&page=1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"?api_key=").concat(u,"&language=en-US"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(u,"&language=en-US"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},822:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(8152),a=n(2791),s=n(3504),i=n(6871),c=n(4635),o="CastView_cast_list__JT2Ck",u="CastView_cast_item__IFG6o",l="CastView_cast_image__06xD2",p="CastView_cast_character__fdyQm",h="CastView_cast_actor__rM3Xm",_=n(184);function f(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],s=t[1],f=(0,i.UO)().movieId;return(0,a.useEffect)((function(){(0,c.M1)(f).then((function(e){s(e.data.cast)}))}),[]),(0,_.jsx)(_.Fragment,{children:n&&(0,_.jsx)("ul",{className:o,children:n.map((function(e){return(0,_.jsxs)("li",{className:u,children:[e.profile_path?(0,_.jsx)("img",{src:"https://image.tmdb.org/t/p/w92".concat(e.profile_path),alt:e.name,className:l}):(0,_.jsx)("img",{src:"https://sd.keepcalms.com/i/sorry-no-picture-available-2.png",alt:e.name,width:"92px",height:"138px"}),(0,_.jsx)("p",{className:p,children:e.character}),(0,_.jsx)("p",{className:h,children:e.name})]},e.id)}))})})}var m="ReviewsView_review_item__hr6vr",d="ReviewsView_review_list__IVdex";function v(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],o=(0,i.UO)().movieId;return(0,a.useEffect)((function(){(0,c.tx)(o).then((function(e){s(e.data.results)}))}),[]),(0,_.jsx)(_.Fragment,{children:0===n.length?(0,_.jsx)("p",{children:"There are no reviews for this film"}):(0,_.jsx)("ul",{className:d,children:n.map((function(e){return(0,_.jsxs)("li",{className:m,children:[(0,_.jsx)("h3",{children:e.author}),(0,_.jsx)("span",{children:e.created_at.slice(0,10)}),(0,_.jsx)("p",{children:e.content})]},e.id)}))})})}var x="MovieInfoView_base_info_title__3JmKc",g="MovieInfoView_details_title__HATxF",w="MovieInfoView_deteils_links__Ka8um",j="MovieInfoView_back_btn__Uye1C";function k(){var e=(0,i.UO)().movieId,t=(0,i.s0)(),n=(0,a.useState)(null),o=(0,r.Z)(n,2),u=o[0],l=o[1];return(0,a.useEffect)((function(){(0,c.WL)(e).then((function(e){var t=e.data,n=t.id,r=t.poster_path,a=t.release_date,s=t.title,i=t.name,c=t.overview,o=t.vote_average,u=t.genres;l({id:n,poster_path:r,release_date:a,title:s,name:i,overview:c,vote_average:o,genresValues:0===u.length?"There are no genres":u.map((function(e){return[e.name]})).join(", ")})})),localStorage.setItem("movie",JSON.stringify(u))}),[e]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("button",{onClick:function(){return t(-1)},className:j,children:"\u2190 Go back"}),u&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("h1",{children:[u.title," (",u.release_date.slice(0,4),")"]}),u.poster_path?(0,_.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(u.poster_path),alt:u.title}):(0,_.jsx)("img",{src:"https://sd.keepcalms.com/i/sorry-no-picture-available-2.png",alt:u.title,width:"300px",height:"450px"}),(0,_.jsxs)("p",{children:["User score: ",u.vote_average]}),(0,_.jsx)("h2",{className:x,children:"Overview"}),(0,_.jsx)("p",{children:u.overview}),(0,_.jsx)("h2",{className:x,children:"Genres"}),(0,_.jsx)("p",{children:u.genresValues}),(0,_.jsx)("h3",{className:g,children:"Additional information"}),(0,_.jsx)(s.OL,{to:"/movies/".concat(u.id,"/cast"),className:w,children:"Cast"}),(0,_.jsx)(s.OL,{to:"/movies/".concat(u.id,"/reviews"),className:w,children:"Reviews"})]}),(0,_.jsxs)(i.Z5,{children:[(0,_.jsx)(i.AW,{path:"cast",element:(0,_.jsx)(f,{})}),(0,_.jsx)(i.AW,{path:"reviews",element:(0,_.jsx)(v,{})})]})]})}}}]);
//# sourceMappingURL=822.c5e6cc35.chunk.js.map