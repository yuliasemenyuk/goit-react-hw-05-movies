"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[822],{4635:function(e,t,n){n.d(t,{Df:function(){return l},M1:function(){return _},WL:function(){return h},qF:function(){return x},tx:function(){return m}});var r=n(5861),a=n(7757),s=n.n(a),i=n(4569),c=n.n(i),o="https://api.themoviedb.org/3/",u="10da0ab85bfd05885200cf46ca6575c7";function l(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/popular?api_key=").concat(u,"&language=en-US&page=1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"?api_key=").concat(u,"&language=en-US"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(u,"&language=en-US"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},822:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(885),a=n(2791),s=n(501),i=n(6871),c=n(4635),o="CastView_cast_list__JT2Ck",u="CastView_cast_item__IFG6o",l="CastView_cast_image__06xD2",p="CastView_cast_character__fdyQm",h="CastView_cast_actor__rM3Xm",f=n(184);function m(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],s=t[1],m=(0,i.UO)().movieId;return(0,a.useEffect)((function(){(0,c.M1)(m).then((function(e){s(e.data.cast)}))}),[]),(0,f.jsx)(f.Fragment,{children:n&&(0,f.jsx)("ul",{className:o,children:n.map((function(e){return(0,f.jsxs)("li",{className:u,children:[e.profile_path?(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w92".concat(e.profile_path),alt:e.name,className:l}):(0,f.jsx)("img",{src:"https://sd.keepcalms.com/i/sorry-no-picture-available-2.png",alt:e.name,width:"92px",height:"138px"}),(0,f.jsx)("p",{className:p,children:e.character}),(0,f.jsx)("p",{className:h,children:e.name})]},e.id)}))})})}var d="ReviewsView_review_item__hr6vr",_="ReviewsView_review_list__IVdex";function v(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],o=(0,i.UO)().movieId;return(0,a.useEffect)((function(){(0,c.tx)(o).then((function(e){s(e.data.results)}))}),[]),(0,f.jsx)(f.Fragment,{children:0===n.length?(0,f.jsx)("p",{children:"There are no reviews for this film"}):(0,f.jsx)("ul",{className:_,children:n.map((function(e){return(0,f.jsxs)("li",{className:d,children:[(0,f.jsx)("h3",{children:e.author}),(0,f.jsx)("span",{children:e.created_at.slice(0,10)}),(0,f.jsx)("p",{children:e.content})]},e.id)}))})})}var x="MovieInfoView_base_info_title__3JmKc",g="MovieInfoView_details_title__HATxF",w="MovieInfoView_deteils_links__Ka8um";function j(){var e,t,n=(0,i.UO)().movieId,o=(0,i.TH)(),u=(0,a.useRef)(o),l=(0,a.useState)(null),p=(0,r.Z)(l,2),h=p[0],d=p[1];return(0,a.useEffect)((function(){(0,c.WL)(n).then((function(e){var t=e.data,n=t.id,r=t.poster_path,a=t.release_date,s=t.title,i=t.name,c=t.overview,o=t.vote_average,u=t.genres;d({id:n,poster_path:r,release_date:a,title:s,name:i,overview:c,vote_average:o,genresValues:0===u.length?"There are no genres":u.map((function(e){return[e.name]})).join(", ")})})),localStorage.setItem("movie",JSON.stringify(h))}),[n]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(s.rU,{to:null!==(e=null===o||void 0===o||null===(t=o.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",state:{from:u.current},children:[" ","\u2190 Go back"]}),h&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h1",{children:[h.title," (",h.release_date.slice(0,4),")"]}),h.poster_path?(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(h.poster_path),alt:h.title}):(0,f.jsx)("img",{src:"https://sd.keepcalms.com/i/sorry-no-picture-available-2.png",alt:h.title,width:"300px",height:"450px"}),(0,f.jsxs)("p",{children:["User score: ",h.vote_average]}),(0,f.jsx)("h2",{className:x,children:"Overview"}),(0,f.jsx)("p",{children:h.overview}),(0,f.jsx)("h2",{className:x,children:"Genres"}),(0,f.jsx)("p",{children:h.genresValues}),(0,f.jsx)("h3",{className:g,children:"Additional information"}),(0,f.jsx)(s.OL,{to:"/movies/".concat(h.id,"/cast"),className:w,children:"Cast"}),(0,f.jsx)(s.OL,{to:"/movies/".concat(h.id,"/reviews"),className:w,children:"Reviews"})]}),(0,f.jsxs)(i.Z5,{children:[(0,f.jsx)(i.AW,{path:"cast",element:(0,f.jsx)(m,{})}),(0,f.jsx)(i.AW,{path:"reviews",element:(0,f.jsx)(v,{})})]})]})}}}]);
//# sourceMappingURL=822.cd5b0623.chunk.js.map